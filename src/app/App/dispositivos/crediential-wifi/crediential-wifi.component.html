<!-- src/app/crediential-wifi/crediential-wifi.component.html -->
<div class="scroll-container">
  <header class="header-section">
    <h1 class="header-title">Configuración del Dispositivo</h1>
  </header>

  <div class="main-container">
    <!-- Pantalla inicial -->
    <section *ngIf="!showConfigInstructions" class="instructions-card">
      <p>Para configurar tu dispositivo ESP32, primero conéctalo a tu red WiFi.</p>
      <p>Sigue estos pasos:</p>
      <button (click)="connectToDevice()" class="primary-button">Comenzar configuración</button>
    </section>

    <!-- Instrucciones abiertas -->
    <section *ngIf="showConfigInstructions" class="instructions-card">
      <h2 class="card-title">Instrucciones de configuración</h2>
      <ol class="instruction-list">
        <li>Busca la red WiFi que comience con “ESP32-”.</li>
        <li>Conéctate usando la contraseña <strong>password123</strong>.</li>
        <li>Luego abre la página de configuración:</li>
      </ol>
      <button (click)="openConfigPage()" class="primary-button">Abrir página</button>
      <p class="info-text">
        Si no funciona, abre en tu navegador: <br />
        <a href="http://192.168.4.1" target="_blank">http://192.168.4.1</a>
      </p>

      <div class="manual-config">
        <h3 class="card-subtitle">O ingresa manualmente:</h3>
        <form (ngSubmit)="onSubmit()" class="plant-form">
          <div class="form-field field-base">
            <input class="custom-input" type="text" placeholder="SSID" [(ngModel)]="ssid" name="ssid" required />
          </div>
          <div class="form-field field-base">
            <input class="custom-input" type="password" placeholder="Contraseña" [(ngModel)]="password" name="password"
              required />
          </div>
          <button type="submit" class="primary-button">Guardar configuración</button>
        </form>
      </div>

      <button (click)="goToEnterId()" class="secondary-button">Volver</button>

      <p *ngIf="errorMessage" class="status-message error">{{ errorMessage }}</p>
    </section>
  </div>
</div>